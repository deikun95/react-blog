import { observer } from 'mobx-react-lite';
import { useStore } from '../../store';
import {
    ModalContainer,
    Label,
    ModalBackground,
    ModalHeader,
    ModalHeaderActions,
    HeaderCloseBtn,
    ModalUpload,
    HeaderInput,
    ModalText,
    TextArea,
    ModalFooterBtn,
    ModalFooterActions,
    UploadIcon,
} from './BlogAddModal.styles';

const BlockAddModal = () => {
    const { postsModule, modalModule } = useStore();
    const { handleAddPost, isBtnDisabled, setTempTitle, setTempText } = postsModule;
    const {toggleModal} = modalModule


    return (
        <ModalBackground>
            <ModalContainer>
                <ModalHeaderActions>
                    <HeaderCloseBtn onClick={() => toggleModal()}>
                        <svg viewBox="0 0 511.992 511.992" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="m415.402344 495.421875-159.40625-159.410156-159.40625 159.410156c-22.097656 22.09375-57.921875 22.09375-80.019532 0-22.09375-22.097656-22.09375-57.921875 0-80.019531l159.410157-159.40625-159.410157-159.40625c-22.09375-22.097656-22.09375-57.921875 0-80.019532 22.097657-22.09375 57.921876-22.09375 80.019532 0l159.40625 159.410157 159.40625-159.410157c22.097656-22.09375 57.921875-22.09375 80.019531 0 22.09375 22.097657 22.09375 57.921876 0 80.019532l-159.410156 159.40625 159.410156 159.40625c22.09375 22.097656 22.09375 57.921875 0 80.019531-22.097656 22.09375-57.921875 22.09375-80.019531 0zm0 0"
                                fill="#000"
                            />
                        </svg>
                    </HeaderCloseBtn>
                </ModalHeaderActions>
                <ModalHeader>
                    <Label>Заголовок:</Label>
                    <HeaderInput onChange={setTempTitle} />
                </ModalHeader>
                <ModalText>
                    <Label>Содержание поста:</Label>
                    <TextArea onChange={setTempText} />
                </ModalText>
                <ModalUpload>
                    <Label>Загрузить файл</Label>
                    <UploadIcon>
                        <svg
                            width="20px"
                            height="20px"
                            xmlns="http://www.w3.org/2000/svg"
                            xmlnsXlink="http://www.w3.org/1999/xlink"
                            viewBox="0 0 511.991 511.991"
                            xmlSpace="preserve"
                        >
                            <path
                                d="M486.241,65.831L467.49,47.079c-34.333-34.333-89.997-34.333-124.33-0.001c0,0,0,0-0.001,0.001
	L103.543,286.695c-24.277,24.277-24.277,63.638,0,87.915l12.501,12.501c24.728,23.163,63.187,23.163,87.915,0l176.917-176.917
	c4.237-4.093,4.354-10.845,0.262-15.083c-4.093-4.237-10.845-4.354-15.083-0.262c-0.089,0.086-0.176,0.173-0.262,0.262
	L188.876,372.028c-16.248,15.203-41.501,15.203-57.749,0l-12.501-12.501c-15.947-15.945-15.949-41.798-0.004-57.745
	c0.001-0.001,0.003-0.003,0.004-0.004L358.241,62.161c26.366-25.112,67.8-25.112,94.165,0l18.752,18.752
	c25.993,26.007,25.993,68.158,0,94.165l-267.2,267.2c-36.063,36.05-94.518,36.05-130.581,0l-25.003-24.981
	c-36.05-36.063-36.05-94.518,0-130.581L252.876,82.215c4.237-4.093,4.355-10.845,0.262-15.083
	c-4.093-4.237-10.845-4.355-15.083-0.262c-0.089,0.086-0.176,0.173-0.262,0.262L33.292,271.612
	C-11.097,316-11.097,387.968,33.291,432.357c0,0.001,0.001,0.001,0.001,0.001l25.003,25.003
	c44.388,44.389,116.356,44.39,160.745,0.002c0-0.001,0.001-0.001,0.001-0.002l267.2-267.2
	C520.574,155.829,520.575,100.164,486.241,65.831C486.242,65.831,486.242,65.831,486.241,65.831L486.241,65.831z"
                            />
                            <path
                                d="M138.658,490.663c-30.164,0.066-59.104-11.923-80.384-33.301L33.292,432.38c-44.389-44.388-44.39-116.356-0.001-160.745
	c0,0,0.001-0.001,0.001-0.001L237.794,67.132c4.093-4.237,10.845-4.355,15.083-0.262c4.237,4.093,4.355,10.845,0.262,15.083
	c-0.086,0.089-0.173,0.176-0.262,0.262L48.375,286.695c-36.05,36.063-36.05,94.518,0,130.581l25.003,25.003
	c36.063,36.05,94.518,36.05,130.581,0l267.2-267.2c25.993-26.007,25.993-68.158,0-94.165l-18.752-18.752
	c-26.366-25.112-67.8-25.112-94.165,0L118.625,301.777c-15.947,15.945-15.949,41.798-0.004,57.745
	c0.001,0.001,0.003,0.003,0.004,0.004l12.501,12.501c16.248,15.203,41.501,15.203,57.749,0l176.917-176.917
	c4.093-4.237,10.845-4.355,15.083-0.262c4.237,4.093,4.354,10.845,0.262,15.083c-0.086,0.089-0.173,0.176-0.262,0.262
	L203.959,387.111c-24.728,23.163-63.187,23.163-87.915,0l-12.501-12.501c-24.277-24.277-24.277-63.638,0-87.915L343.159,47.079
	c34.333-34.333,89.997-34.333,124.33-0.001c0,0,0,0,0.001,0.001l18.752,18.752c34.333,34.333,34.333,89.997,0.001,124.33
	c0,0,0,0-0.001,0.001l-267.2,267.2C197.762,478.74,168.822,490.729,138.658,490.663z"
                            />
                        </svg>
                    </UploadIcon>
                </ModalUpload>
                <ModalFooterActions>
                    <ModalFooterBtn
                        className={isBtnDisabled ? '' : 'active'}
                        isDisabled={isBtnDisabled}
                        onClick={handleAddPost}
                    >
                        Добавить пост
                    </ModalFooterBtn>
                </ModalFooterActions>
            </ModalContainer>
        </ModalBackground>
    );
};

export default observer(BlockAddModal);
